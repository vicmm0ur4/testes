#include <AFMotor.h>

AF_DCMotor motor(2); // Motor na porta 2
const int potPin = A12; // Potenciômetro no pino A12

void setup() {
  Serial.begin(9600); // Inicializa a comunicação serial para depuração
  
  // Configura o motor
  motor.setSpeed(0); // Define a velocidade inicial do motor
  motor.run(FORWARD); // Define a direção do motor
}

void loop() {
  // Lê o valor do potenciômetro
  int potValue = analogRead(potPin);
  int pwmValue = map(potValue, 0, 1023, 0, 255); // Mapeia o valor do potenciômetro para a faixa de 0 a 255

  // Define a velocidade do motor baseada na leitura do potenciômetro
  motor.setSpeed(pwmValue);

  // Para depuração, você pode imprimir o valor do potenciômetro e a velocidade do motor
  Serial.print("Potenciômetro: ");
  Serial.print(potValue);
  Serial.print(", PWM: ");
  Serial.println(pwmValue);

  // Pequeno delay para evitar travamentos
  delay(10);
}
